import{l as t,j as e,v as p,w as N,L as k,O as C,V as j}from"./index-BVbZ9MXL.js";import{fl as S,fo as b,fr as g,fm as E,fp as A,eL as L,e3 as M,e$ as v,fq as $,fs as R}from"./schemas-Bj2VFtos.js";import{F}from"./DocumentIcon-juZqMQdb.js";import{F as O}from"./KeyIcon-BRtDqEhW.js";function B({title:a,titleId:r,...s},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const P=t.forwardRef(B);function D({title:a,titleId:r,...s},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const T=t.forwardRef(D);function V({title:a,titleId:r,...s},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const W=t.forwardRef(V);function I({title:a,titleId:r,...s},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const z=t.forwardRef(I);function Z({title:a,titleId:r,...s},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const H=t.forwardRef(Z);function q({title:a,titleId:r,...s},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const w=t.forwardRef(q);function U({title:a,titleId:r,...s},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const J=t.forwardRef(U);function Q({showNotifications:a=!0,notificationCount:r=0,user:s={name:"John Doe",role:"Administrator"},userMenuActions:n=[{label:"Profile",href:"#"},{label:"Settings",href:"#"},{isDivider:!0},{label:"Sign out",href:"#"}],onMenuToggle:c,onNotificationClick:o,className:d=""}){const[l,m]=t.useState(!1),i=u=>{u.onClick&&u.onClick(),m(!1)},x=()=>{c&&c()},y=()=>{o&&o()};return e.jsxs("header",{className:`bg-white shadow-sm border-b border-gray-200 flex-shrink-0 ${d}`,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex items-center",children:c&&e.jsx("button",{onClick:x,className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",title:"Toggle menu",children:e.jsx(P,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[a&&e.jsxs("button",{onClick:y,className:"p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-lg relative",children:[e.jsx(T,{className:"w-6 h-6"}),r>0&&e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),s&&e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>m(!l),className:"flex items-center space-x-2 p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-lg",children:[s.avatar?e.jsx("img",{src:s.avatar,alt:s.name,className:"w-8 h-8 rounded-full"}):e.jsx(w,{className:"w-8 h-8"}),e.jsx(S,{className:"w-4 h-4"})]}),l&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.name}),s.role&&e.jsx("p",{className:"text-xs text-gray-500",children:s.role})]}),n.map((u,f)=>u.isDivider?e.jsx("div",{className:"border-t border-gray-100 my-1"},f):e.jsx("button",{onClick:()=>i(u),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:u.label},f))]})]})]})]}),l&&e.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>m(!1)})]})}class h{static login=r=>b.post("/v1/auth/login",r).then(s=>{const n=s.data,c=n.result;return localStorage.setItem("accessToken",c.tokens.accessToken),g.login({accessToken:c.tokens.accessToken,user:c.user,loggedIn:!0,loading:!1}),n});static verify=()=>localStorage.getItem("accessToken")?b.post("/v1/auth/verify").then(r=>{const s=r.data,n=s.result;return g.login({accessToken:localStorage.getItem("accessToken"),...n,loggedIn:!0,loading:!1}),s}).catch(r=>{throw h.logout(),r}):(g.logout(),localStorage.removeItem("accessToken"),Promise.reject("No token found"));static logout=async()=>{localStorage.removeItem("accessToken"),g.logout(),p.invalidateQueries(),p.clear()}}function X(){const[a,r]=t.useState(!1),[s,n]=t.useState(!1),c=N(),o=[{name:"Dashboard",href:"/",icon:H},{name:"Passports",href:"/passports",icon:F},{name:"Passwords",href:"/access",icon:O}],d=()=>{console.log("Notifications clicked")},l=()=>{window.innerWidth>=1024?n(!s):r(!a)},m=[{label:"Account Settings",href:"#"},{isDivider:!0},{label:"Sign out",onClick:h.logout}];return t.useEffect(()=>{const i=c.subscribe("onBeforeNavigate",()=>{r(!1)});return()=>{i()}},[c]),e.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[a&&e.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>r(!1),children:e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),e.jsxs("div",{className:`${a?"translate-x-0":"-translate-x-full"} fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-all duration-300 ease-in-out lg:translate-x-0 lg:relative lg:flex lg:flex-col ${s?"lg:w-16":"lg:w-64"}`,children:[e.jsxs("div",{className:`flex items-center justify-between h-16 px-6 bg-indigo-600 flex-shrink-0 ${s?"lg:px-4":""}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-indigo-600 font-bold text-xl",children:"A"})})}),e.jsx("div",{className:`ml-3 ${s?"lg:hidden":""}`,children:e.jsx("h1",{className:"text-white font-semibold text-lg",children:"Admin Panel"})})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:()=>r(!1),className:"lg:hidden flex items-center justify-center w-8 h-8 rounded-md bg-indigo-500 hover:bg-indigo-400 text-white transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50",title:"Close sidebar",children:e.jsx(E,{className:"w-4 h-4"})})})]}),e.jsx("nav",{className:"flex-1 px-4 py-6 overflow-y-auto",children:e.jsx("div",{className:"space-y-2",children:o.map(i=>e.jsx(k,{to:i.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 text-gray-700 hover:bg-gray-50 hover:text-gray-900 [&.active]:bg-indigo-50 [&.active]:text-indigo-600 ${s?"lg:px-2 lg:justify-center":""}`,activeOptions:{exact:!0},activeProps:{className:"active"},title:s?i.name:void 0,children:({isActive:x})=>e.jsxs(e.Fragment,{children:[e.jsx(i.icon,{className:`flex-shrink-0 w-5 h-5 mr-3 ${s?"lg:mr-0":""} ${x?"text-indigo-600":"text-gray-400 group-hover:text-gray-500"}`}),e.jsx("span",{className:`${s?"lg:hidden":""}`,children:i.name})]})},i.name))})}),e.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200",children:e.jsxs("div",{className:`flex items-center ${s?"lg:justify-center":""}`,children:[e.jsx(w,{className:"text-gray-400 w-8 h-8"}),e.jsxs("div",{className:`ml-3 ${s?"lg:hidden":""}`,children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"John Doe"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx(Q,{onMenuToggle:l,onNotificationClick:d,user:{name:"John Doe",role:"Administrator"},userMenuActions:m,notificationCount:3}),e.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e.jsx(C,{})})]})]})}function G(){const[a,r]=t.useState(!1),{Field:s,Subscribe:n,handleSubmit:c}=A({defaultValues:{email:"",password:"",rememberMe:!1},validators:{onChange:L({email:v().email("Invalid email address"),password:v().min(2,"Password must be at least 2 characters long"),rememberMe:M()})},onSubmit:async({value:o})=>h.login({email:o.email,password:o.password,remember:o.rememberMe}).then(()=>{j.success("Login successful!")}).catch(d=>{console.error("Login failed:",d),j.error("Login failed. Please check your credentials and try again.")})});return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mx-auto h-16 w-16 flex items-center justify-center bg-indigo-100 rounded-full",children:e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:"SE"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Welcome back to"," ",e.jsx("span",{className:"font-medium text-indigo-600",children:"S Enterprises"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:o=>{o.preventDefault(),o.stopPropagation(),c()},children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(s,{name:"email",children:({name:o,state:{value:d,meta:l},handleChange:m,handleBlur:i})=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(J,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:o,type:"email",autoComplete:"email",required:!0,value:d,onChange:x=>m(x.target.value),onBlur:i,className:`appearance-none relative block w-full pl-10 pr-3 py-3 border placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm ${l.errors.length>0?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email"})]}),l.errors.length>0&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.errors.map(x=>x?.message).join(", ")})]})}),e.jsx(s,{name:"password",children:({name:o,state:{value:d,meta:l},handleChange:m,handleBlur:i})=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(z,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:o,type:a?"text":"password",autoComplete:"current-password",required:!0,value:d,onChange:x=>m(x.target.value),onBlur:i,className:`appearance-none relative block w-full pl-10 pr-10 py-3 border placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm ${l.errors.length>0?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!a),children:a?e.jsx(W,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):e.jsx($,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),l.errors.length>0&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.errors.map(x=>x?.message).join(", ")})]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(s,{name:"rememberMe",children:({name:o,state:{value:d},handleChange:l})=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:o,type:"checkbox",checked:d,onChange:m=>l(m.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]})}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsx(n,{children:({isSubmitting:o})=>e.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors",children:"Contact administrator"})]})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Secure Login"})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-1"}),"SSL Encrypted"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full mr-1"}),"Secure Access"]})]})})]})]})})}const se=function(){const[r]=R();return t.useEffect(()=>{h.verify()},[]),r.loading?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-gray-900"})}):r.loggedIn?e.jsx(X,{}):e.jsx(G,{})};export{se as component};
